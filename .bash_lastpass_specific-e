#!/usr/bin/env bash

get_lastpass_username_and_password() {
  search_terms="${1?Please enter some search terms.}"
  lpass ls --format="%ai,%au,%al" | \
    grep -E "${search_terms}"
}

get_lastpass_username() {
  get_lastpass_username_and_password "$1" | \
    cut -f1 -d , | \
    xargs lpass show | \
    grep -E "^Username:"
}

get_lastpass_password() {
  get_lastpass_username_and_password "$1" | \
    cut -f1 -d , | \
    xargs lpass show | \
    grep -E "^Password:"
}
